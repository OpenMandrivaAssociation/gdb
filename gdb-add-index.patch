diff -up gdb-17.1/gdb/contrib/gdb-add-index.sh.2~ gdb-17.1/gdb/contrib/gdb-add-index.sh
--- gdb-17.1/gdb/contrib/gdb-add-index.sh.2~	2025-09-06 22:52:48.000000000 +0100
+++ gdb-17.1/gdb/contrib/gdb-add-index.sh	2026-01-06 20:14:45.269644353 +0000
@@ -16,9 +16,8 @@
 # You should have received a copy of the GNU General Public License
 # along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
-# This program assumes gdb and objcopy are in $PATH.
+# This program assumes objcopy and readelf are in $PATH.
 # If not, or you want others, pass the following in the environment
-GDB=${GDB:=gdb}
 OBJCOPY=${OBJCOPY:=objcopy}
 READELF=${READELF:=readelf}
 
@@ -27,6 +26,45 @@ VERSION="@VERSION@"
 
 myname="${0##*/}"
 
+# For GDB itself we need to be a little smarter.  If GDB is set in the
+# environment then we will use that.  But if GDB is not set in the
+# environment then we have a couple of options that we need to check
+# through.
+#
+# Our default choice is for /usr/bin/gdb.minimal.  For an explanation
+# of why this is chosen, check out:
+#   https://bugzilla.redhat.com/show_bug.cgi?id=1695015
+#   https://fedoraproject.org/wiki/Changes/Minimal_GDB_in_buildroot
+#
+# If gdb.minimal is not found then we look for a 'gdb' executable on
+# the path.
+#
+# And finally, we check for /usr/libexec/gdb.
+#
+# If none of those result in a useable GDB then we give an error and
+# exit.
+if test -z "$GDB"; then
+    for possible_gdb in /usr/bin/gdb.minimal gdb /usr/libexec/gdb; do
+        if ! command -v "$possible_gdb" >/dev/null 2>&1; then
+            continue
+        fi
+
+        possible_gdb=$(command -v "$possible_gdb")
+
+        if ! test -x "$possible_gdb"; then
+            continue
+        fi
+
+        GDB="$possible_gdb"
+        break
+    done
+
+    if test -z "$GDB"; then
+        echo "$myname: Failed to find a useable GDB binary" 1>&2
+        exit 1
+    fi
+fi
+
 print_usage() {
     prefix="Usage: $myname"
     echo "$prefix [-h|--help] [-v|--version] [--dwarf-5] FILENAME"
